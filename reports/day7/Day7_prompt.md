Я исследую точность и разность двух моделей

- Вызовите один и тот же запрос на двух разных моделях
- Замерьте время ответа, количество токенов и итоговую стоимость (если модель платная)
- Сравните качество ответов

Задача у всех одна и та же, ответ на неё = 25%

Запрос к перплексити:
{
    "systemPrompt": "ВАЖНО: Ответь в таком формате: 'Ответ: p%'. Не выдавай объяснение - только 'Ответ: p%.' и больше ничего",
    "message": "Задача: В июле планируется взять кредит в банке на сумму 64 000 рублей. Условия его возврата таковы: — каждый январь долг увеличивается на p% по сравнению с концом предыдущего года; — с февраля по июнь каждого года необходимо выплатить одним платежом часть долга. Найдите p, если известно, что кредит будет полностью погашен за три года, причём в первый и второй год будет выплачено по 16000 рублей, а в третий год — 80 000 рублей",
    "vendor": "perplexity",
    "model": "sonar",
    "maxTokens": 512,
    "disableSearch": true,
    "temperature": 0
}

Запрос в гигачад:
{
    "systemPrompt": "Ответь в таком формате: 'Ответ: p%.'",
    "message": "17. Авторская задача. В июле планируется взять кредит в банке на сумму 64 000 рублей. Условия его возврата таковы: — каждый январь долг увеличивается на p% по сравнению с концом предыдущего года; — с февраля по июнь каждого года необходимо выплатить одним платежом часть долга. Найдите p, если известно, что кредит будет полностью погашен за три года, причём в первый и второй год будет выплачено по 16000 рублей, а в третий год — 80 000 рублей",
    "vendor": "gigachat",
    "model": "GigaChat-2",
    "maxTokens": 512,
    "disableSearch": true,
    "temperature": 0
}

5 ответов от перплексити:
    {
    "content": "Ответ: 25%.",
    "model": "sonar",
    "isComplete": true,
    "round": 1,
    "maxRounds": 1,
    "executionTimeMs": 2229,
    "usage": {
    "prompt_tokens": 167,
    "completion_tokens": 6,
    "totalTokens": 173,
    "cost": 1.73E-4
    }
}

{
"content": "Ответ: 25%.",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 2191,
"usage": {
"prompt_tokens": 167,
"completion_tokens": 6,
"totalTokens": 173,
"cost": 1.73E-4
}
}

{
"content": "Ответ: 25%.",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 3573,
"usage": {
"prompt_tokens": 167,
"completion_tokens": 6,
"totalTokens": 173,
"cost": 1.73E-4
}
}

{
"content": "Ответ: 20%.",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 3856,
"usage": {
"prompt_tokens": 167,
"completion_tokens": 6,
"totalTokens": 173,
"cost": 1.73E-4
}
}

{
"content": "Ответ: 20%.",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 2263,
"usage": {
"prompt_tokens": 167,
"completion_tokens": 6,
"totalTokens": 173,
"cost": 1.73E-4
}
}

5 ответов от гигачада:

{
"content": "Ответ: 100%.",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 204,
"usage": {
"prompt_tokens": 137,
"completion_tokens": 8,
"totalTokens": 145
}
}

{
"content": "Ответ: 100%.",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 176,
"usage": {
"prompt_tokens": 137,
"completion_tokens": 8,
"totalTokens": 145
}
}

{
"content": "Ответ: 100%.",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 180,
"usage": {
"prompt_tokens": 137,
"completion_tokens": 8,
"totalTokens": 145
}
}

{
"content": "Ответ: 100%.",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 300,
"usage": {
"prompt_tokens": 106,
"completion_tokens": 8,
"totalTokens": 114
}
}

{
"content": "Ответ: 100%.",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 183,
"usage": {
"prompt_tokens": 74,
"completion_tokens": 8,
"totalTokens": 82
}
}

Вторая Задача: В декабре 2020 года планируется взять срочный кредит на 50 000 рублей под 20% в месяц. Первого числа каждого месяца, начиная с января, на долг начисляются проценты, а с 15 по 20 число каждого месяца погашают долг на 20 000 рублей. Сумма выплат в последнем месяце может быть меньше. В каком месяце долг будет полностью погашен?
Ответ: апрель

Перплексити:

{
"content": "Ответ: март. \n\nРасчёт по месяцам:\n\n- Декабрь 2020: взят кредит 50 000 рублей, проценты в декабре не начисляются (начисление с января).\n- 1 января 2021: начисляются проценты 20% на 50 000 = 10 000; долг становится 60 000.\n- 15-20 января: платят 20 000; долг после платежа 40 000.\n- 1 февраля: проценты 20% на 40 000 = 8 000; долг 48 000.\n- 15-20 февраля: платят 20 000; долг 28 000.\n- 1 марта: проценты 20% на 28 000 = 5 600; долг 33 600.\n- 15-20 марта: платят 20 000; долг 13 600.\n- 1 апреля: проценты 20% на 13 600 = 2 720; долг 16 320.\n- 15-20 апреля: платят 16 320 (меньше 20 000, так как долг меньше); долг 0.\n\nТаким образом, долг полностью погашен в апреле 2021 года после очередного платежа[расчёт по условию задачи].",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 6181,
"usage": {
"prompt_tokens": 142,
"completion_tokens": 309,
"totalTokens": 451,
"cost": 4.51E-4
}
}

{
"content": "Ответ: март 2021 года. \n\nРасчёт:  \n- В декабре 2020 года берём кредит 50 000 рублей.  \n- Проценты 20% в месяц начисляются первого числа каждого месяца, начиная с января.  \n- С 15 по 20 число каждого месяца погашаем по 20 000 рублей.  \n\nПошагово:  \n1. 1 января долг с процентами: 50 000 × 1,20 = 60 000 рублей.  \n2. Погашение 20 000 рублей с 15-20 января: долг становится 60 000 - 20 000 = 40 000 рублей.  \n3. 1 февраля долг с процентами: 40 000 × 1,20 = 48 000 рублей.  \n4. Погашение 20 000 рублей с 15-20 февраля: долг становится 48 000 - 20 000 = 28 000 рублей.  \n5. 1 марта долг с процентами: 28 000 × 1,20 = 33 600 рублей.  \n6. Погашение 20 000 рублей с 15-20 марта: долг становится 33 600 - 20 000 = 13 600 рублей.  \n7. 1 апреля долг с процентами: 13 600 × 1,20 = 16 320 рублей.  \n8. Погашение в апреле будет меньше 20 000 рублей — ровно 16 320 рублей, долг погашен полностью.  \n\nТаким образом, долг будет полностью погашен в апреле 2021 года, после выплаты с 15 по 20 число[расчёт по условию задачи].",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 13534,
"usage": {
"prompt_tokens": 142,
"completion_tokens": 395,
"totalTokens": 537,
"cost": 5.37E-4
}
}

{
"content": "Ответ: март. \n\nРасчёт:  \n- Долг 50 000 рублей, ставка 20% в месяц.  \n- Проценты начисляются 1-го числа каждого месяца на остаток долга.  \n- Погашение 20 000 рублей происходит с 15 по 20 число каждого месяца.  \n\nПомесячно:  \nЯнварь: долг 50 000 + 20% = 60 000; погашение 20 000 → остаток 40 000  \nФевраль: 40 000 + 20% = 48 000; погашение 20 000 → остаток 28 000  \nМарт: 28 000 + 20% = 33 600; погашение 20 000 → остаток 13 600  \nАпрель: 13 600 + 20% = 16 320; погашение 13 600 (остаток меньше 20 000) → остаток 2 720  \nМай: 2 720 + 20% = 3 264; погашение 3 264 → остаток 0  \n\nТаким образом, долг будет полностью погашен в мае, но последний платёж будет меньше 20 000 рублей. Если считать месяц, когда долг станет ≤ 0 после погашения, это будет май. Если считать месяц, когда последний платёж меньше 20 000, это тоже май.  \n\nЕсли же считать месяц, когда после погашения долг впервые становится меньше 20 000, это март. Но долг полностью погашен будет в мае.  \n\nОтвет: май.",
"model": "sonar",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 7789,
"usage": {
"prompt_tokens": 142,
"completion_tokens": 373,
"totalTokens": 515,
"cost": 5.15E-4
}
}

Гигачад:

{
"content": "Ответ: Декабрь",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 184,
"usage": {
"prompt_tokens": 114,
"completion_tokens": 6,
"totalTokens": 120
}
}

{
"content": "Ответ: Декабрь",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 163,
"usage": {
"prompt_tokens": 114,
"completion_tokens": 6,
"totalTokens": 120
}
}

{
"content": "Ответ: Декабрь",
"model": "GigaChat-2:2.0.28.2",
"isComplete": true,
"round": 1,
"maxRounds": 1,
"executionTimeMs": 130,
"usage": {
"prompt_tokens": 114,
"completion_tokens": 6,
"totalTokens": 120
}
}